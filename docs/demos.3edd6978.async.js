"use strict";(self.webpackChunk_rainetian_sandpack_file_explorer=self.webpackChunk_rainetian_sandpack_file_explorer||[]).push([[433],{55937:function(pe,M,s){s.r(M);var S=s(23058),$=s(65588),q=s(50959),D=s(11527),O=function(){return(0,D.jsx)("div",{children:(0,D.jsx)(S.oT,{template:"react",children:(0,D.jsxs)(S.sp,{children:[(0,D.jsx)($.Z,{style:{width:250}}),(0,D.jsx)(S._V,{showTabs:!0,closableTabs:!0}),(0,D.jsx)(S.Gj,{})]})})})};M.default=O},6498:function(pe,M,s){s.r(M);var S=s(23058),$=s(18145),q=s(65588),D=s(50959),O=s(11527),G=function(){var X=function(J){var me={js:"https://img.icons8.com/color/48/000000/javascript.png",css:"https://img.icons8.com/color/48/000000/css3.png",html:"https://img.icons8.com/color/48/000000/html-5.png",json:"https://img.icons8.com/color/48/000000/json.png"},ee=me[J];return ee?(0,O.jsx)("img",{src:ee}):null};return(0,O.jsx)("div",{children:(0,O.jsx)(S.oT,{template:"react",theme:$.uj,children:(0,O.jsxs)(S.sp,{children:[(0,O.jsx)(q.Z,{fileIcon:X}),(0,O.jsx)(S._V,{showTabs:!0,closableTabs:!0}),(0,O.jsx)(S.Gj,{})]})})})};M.default=G},25282:function(pe,M,s){s.r(M);var S=s(23058),$=s(18145),q=s(65588),D=s(50959),O=s(11527),G=function(){return(0,O.jsx)("div",{children:(0,O.jsx)(S.oT,{template:"react",theme:$.uj,children:(0,O.jsxs)(S.sp,{children:[(0,O.jsx)(q.Z,{readOnly:!0}),(0,O.jsx)(S._V,{showTabs:!0,closableTabs:!0}),(0,O.jsx)(S.Gj,{})]})})})};M.default=G},65588:function(pe,M,s){s.d(M,{Z:function(){return jt}});var S=s(15558),$=s.n(S),q=s(26068),D=s.n(q),O=s(48305),G=s.n(O),Z=s(23058),X=s(34291),l=s(50959);function J(e){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(e)}var me=["style","name"];function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(this,arguments)}function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ee(Object(r),!0).forEach(function(n){De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function De(e,t,r){return t=Re(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e){var t=Ne(e,"string");return J(t)=="symbol"?t:String(t)}function Ne(e,t){if(J(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Me(e,t){if(e==null)return{};var r=He(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function He(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var Oe=function(){return l.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.createElement("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m320 512V448h64v128h128v64H544v128h-64V640H352v-64z"}))},Ie=function(){return l.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.createElement("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m384 416V416h64v128h128v64H544v128h-64V608H352v-64z"}))},Le=function(){return l.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"delete",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.createElement("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"}))},Be=function(){return l.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.createElement("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64h-448z"}))},We=function(){return l.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.createElement("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896"}))},Ve=function(){return l.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.createElement("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"}))},ze=function(){return l.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.createElement("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"}))},Ke=function(){return l.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"file-text",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.createElement("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"}))},Ue={file:l.createElement(ze,null),folder:l.createElement(Ke,null),addFile:l.createElement(Oe,null),addFolder:l.createElement(Ie,null),delete:l.createElement(Le,null),edit:l.createElement(Be,null),folderOpen:l.createElement(We,null),right:l.createElement(Ve,null)},H=function(t){var r=t.style,n=t.name,o=Me(t,me);return l.createElement("span",ee({},o,{style:Fe({display:"flex",alignItems:"center"},r)}),Ue[n])};function ke(e,t){return Xe(e)||Ze(e,t)||Ge(e,t)||$e()}function $e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(e,t){if(e){if(typeof e=="string")return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(e,t)}}function Se(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ze(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,c,u=[],i=!0,f=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);i=!0);}catch(h){f=!0,o=h}finally{try{if(!i&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(f)throw o}}return u}}function Xe(e){if(Array.isArray(e))return e}var Je=function(t){var r=t.text,n=t.onChange,o=t.onCancel,a=(0,l.useRef)(null),c=(0,l.useState)(r),u=ke(c,2),i=u[0],f=u[1],h=function(I){f(I.target.value)},g=function(){if(i===""&&r===""){o(!0);return}if(i===r||i.trim()===""){o();return}n(i,r==="")},w=function(){if(r===""||r===void 0){o(!0);return}f(r),o()},A=function(I){I.key==="Enter"?(I.preventDefault(),g()):I.key==="Escape"&&(I.preventDefault(),w())};return(0,l.useEffect)(function(){var b;a==null||(b=a.current)===null||b===void 0||b.focus()},[]),l.createElement("div",{className:"inputWrapper file-explorer__node-actions"},l.createElement("input",{ref:a,className:"textField  nodeInput",value:i,onChange:h,onBlur:g,onKeyDown:A}))};function he(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Qe(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,c=!1,u;return{s:function(){r=r.call(e)},n:function(){var f=r.next();return a=f.done,f},e:function(f){c=!0,u=f},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(c)throw u}}}}function Qe(e,t){if(e){if(typeof e=="string")return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return je(e,t)}}function je(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ye(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)}).replace(/-/g,"")}var Ae=function(t,r){var n;return t.forEach(function(o){var a=r.find(function(c){return c.id===o.id});if(o.parent!==(a==null?void 0:a.parent))return n=o,null}),n};function qe(e){var t=[],r={};for(var n in e){for(var o=n.startsWith("/")?n.slice(1).split("/"):n.split("/"),a=0,c=0;c<o.length-1;c++){var u=o.slice(0,c+1).join("/");if(!r[u]){var i=t.length+1;r[u]=i,t.push({id:i,parent:a,droppable:!0,text:o[c]})}a=r[u]}var f=o.pop(),h=t.length+1;t.push({id:h,parent:a,droppable:!1,text:f,content:e[n]})}return t}function _e(e){var t={};return e.forEach(function(r){if(!r.droppable){for(var n="",o=r.parent;o!==0;){var a=e.find(function(c){return c.id===o});n=a.text+"/"+n,o=a.parent}n===""?n=r.text:n+=r.text,t[n]=r.content}}),t}function et(e,t){var r=0,n=t.split("/").filter(function(g){return g}),o=he(n),a;try{for(o.s();!(a=o.n()).done;){var c=a.value,u=!1,i=he(e),f;try{for(i.s();!(f=i.n()).done;){var h=f.value;if(h.parent===r&&h.text===c){r=h.id,u=!0;break}}}catch(g){i.e(g)}finally{i.f()}if(!u)return null}}catch(g){o.e(g)}finally{o.f()}return r}function tt(e,t){for(var r="",n=t.toString();n!=="0";){var o=!1,a=he(e),c;try{for(a.s();!(c=a.n()).done;){var u=c.value;if(u.id.toString()===n){r="/"+u.text+r,n=u.parent.toString(),o=!0;break}}}catch(i){a.e(i)}finally{a.f()}if(!o)return null}return r===""?null:r}var le="_draft_id_";function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}function Ce(e,t){return ot(e)||at(e,t)||nt(e,t)||rt()}function rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nt(e,t){if(e){if(typeof e=="string")return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(e,t)}}function we(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function at(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,c,u=[],i=!0,f=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);i=!0);}catch(h){f=!0,o=h}finally{try{if(!i&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(f)throw o}}return u}}function ot(e){if(Array.isArray(e))return e}var lt=function(t){var r=t.dragOverAutoExpand,n=t.clickRowAutoExpand,o=t.isSelected,a=t.isOpen,c=a===void 0?!1:a,u=t.showActions,i=u===void 0?!0:u,f=t.titleRender,h=t.switcherIcon,g=t.fileIcon,w=t.node,A=w.id,b=w.droppable,I=w.text,ue=(0,l.useState)(!1),re=Ce(ue,2),ce=re[0],B=re[1],W=t.depth*24,z=(0,l.useState)(!1),ne=Ce(z,2),E=ne[0],y=ne[1],j=ce||I==="",R=function(v){v.stopPropagation(),t.onToggle(A)},K=(0,X.t0)(A,c,t.onToggle),p=r?K:{},T=function(v){v.stopPropagation(),B(!0)},V=function(v){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(B(!1),d){t.onTextChange("_draft_id_",v);return}t.onTextChange(A,v)},N=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;v&&t.onRemove(A,!0),B(!1)},U=function(v){v.stopPropagation(),t.onCreate({id:le,text:"",parent:A,droppable:!1},!0)},de=function(v){v.stopPropagation(),t.onCreate({id:le,text:"",parent:A,droppable:!0},!0)},Y=function(v){var d;n&&R(v),(d=t.onSelect)===null||d===void 0||d.call(t,t.node)},ae=function(v){v.stopPropagation(),t.onRemove(A)},k=function(v){var d=v.name;if(typeof g=="boolean")return l.createElement("div",{style:{marginLeft:-4}});if(g){var x=g("folderOpen")||l.createElement(H,{name:"folderOpen"}),m=g("folder")||l.createElement(H,{name:"folder"}),P=g((d==null?void 0:d.split(".").pop())||"file")||l.createElement(H,{name:"file"});return l.createElement("div",{className:"file-explorer__node-icon","data-name":d},b?c?x:m:P)}else return l.createElement("div",{className:"file-explorer__node-icon","data-name":d},b?l.createElement(H,{name:c?"folderOpen":"folder"}):l.createElement(H,{name:"file"}))},L=function(){return l.createElement("div",{className:"file-explorer__node-actions"},b?l.createElement(l.Fragment,null,l.createElement("span",{onClick:U},l.createElement(H,{name:"addFile"})),l.createElement("span",{onClick:de},l.createElement(H,{name:"addFolder"}))):null,l.createElement("span",{onClick:ae},l.createElement(H,{name:"delete"})),l.createElement("span",{onClick:T},l.createElement(H,{name:"edit"})))},oe=function(){var v=h&&typeof h=="function";return l.createElement("div",{className:"file-explorer__node-expand-icon-wrapper ".concat(b?"":"disabled"),onClick:R},b&&(v?h(c):l.createElement("div",{className:"file-explorer__node-expand-icon ".concat(c?"isOpen":"")},h||l.createElement(H,{name:"right"}))))};return(0,l.useEffect)(function(){B(t.showInput||!1)},[t.showInput]),l.createElement("div",ye({className:"file-explorer__node ".concat(E?"file-explorer__node--hover":""," ").concat(o?"file-explorer__node--selected":""),style:{paddingInlineStart:W}},p,{onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},onClick:Y}),oe(),k({name:I}),l.createElement("div",{className:"file-explorer__node-content"},j?l.createElement(Je,{text:I,onChange:V,onCancel:N}):l.createElement("span",{className:"file-explorer__node-text"},f?f(t.node):I),E&&!j&&i&&L()))};function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}var it=["fileExplorerRef","rootId","data","onDrop","onChange","onSelect","dragOverAutoExpand","clickRowAutoExpand","enableSelect","showActions","titleRender","switcherIcon","fileIcon","theme","selectedId"];function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ge.apply(this,arguments)}function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Te(Object(r),!0).forEach(function(n){ut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ut(e,t,r){return t=ct(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ct(e){var t=dt(e,"string");return ie(t)=="symbol"?t:String(t)}function dt(e,t){if(ie(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ie(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q(e){return vt(e)||st(e)||Pe(e)||ft()}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vt(e){if(Array.isArray(e))return be(e)}function xe(e,t){return ht(e)||mt(e,t)||Pe(e,t)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pe(e,t){if(e){if(typeof e=="string")return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(e,t)}}function be(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mt(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,c,u=[],i=!0,f=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);i=!0);}catch(h){f=!0,o=h}finally{try{if(!i&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(f)throw o}}return u}}function ht(e){if(Array.isArray(e))return e}function yt(e,t){if(e==null)return{};var r=gt(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gt(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var xt=function(t){var r=(0,l.useRef)(null),n=t.fileExplorerRef,o=t.rootId,a=t.data,c=t.onDrop,u=t.onChange,i=t.onSelect,f=t.dragOverAutoExpand,h=f===void 0?!1:f,g=t.clickRowAutoExpand,w=g===void 0?!0:g,A=t.enableSelect,b=A===void 0?!0:A,I=t.showActions,ue=I===void 0?!1:I,re=t.titleRender,ce=t.switcherIcon,B=t.fileIcon,W=t.theme,z=t.selectedId,ne=yt(t,it),E=(0,l.useState)(a),y=xe(E,2),j=y[0],R=y[1],K=(0,l.useState)(),p=xe(K,2),T=p[0],V=p[1],N=(0,l.useState)(null),U=xe(N,2),de=U[0],Y=U[1],ae=function(d,x){c==null||c(d,x);var m=Ae(a,d);u==null||u(d,{action:"drop",oldTree:Q(a),oldNode:m})},k=function(d,x){var m=[d].concat(Q((0,X.mD)(a,d).map(function(F){return F.id}))),P=a.filter(function(F){return!m.includes(F.id)});if(x){R(P);return}var fe=a.find(function(F){return F.id===d});u==null||u(P,{action:"remove",oldTree:Q(a),oldNode:fe})},L=function(d,x){var m=[].concat(Q(a),[d]);if(x){R(m);return}var P=te(te({},d),{},{id:Ye()});m=[].concat(Q(a),[P]),u==null||u(m,{action:"create",oldTree:Q(a),newNode:P})},oe=function(d,x){if(d===le){var m=j.find(function(F){return F.id===d});L(te(te({},m),{},{id:"",text:x}));return}var P,fe=a.map(function(F){return F.id===d?(P=F,te(te({},F),{},{text:x})):F});u==null||u(fe,{action:"update",oldTree:Q(a),oldNode:P})},_=function(d){b&&(V(d),i==null||i(d))};return(0,l.useImperativeHandle)(n,function(){var v,d;return{addFile:function(){return L({id:le,text:"",parent:o,droppable:!1},!0)},addFolder:function(){return L({id:le,text:"",parent:o,droppable:!0},!0)},remove:function(m){return k(m,!0)},edit:function(m){Y(m)},getFiles:function(){return _e(j)},openAll:function(){var m;return(m=r.current)===null||m===void 0?void 0:m.openAll()},closeAll:function(){var m;return(m=r.current)===null||m===void 0?void 0:m.closeAll()},open:(v=r.current)===null||v===void 0?void 0:v.open,close:(d=r.current)===null||d===void 0?void 0:d.close}}),(0,l.useEffect)(function(){R(a)},[a]),(0,l.useEffect)(function(){if(a&&z!==void 0){var v=a.find(function(d){return d.id===z});v&&b&&V(v)}},[z]),l.createElement("div",{"data-id":"file-explorer","data-theme":W},l.createElement(X.WG,{backend:X.PD},l.createElement(X.mp,ge({ref:r,tree:j,rootId:o,render:function(d,x){var m=x.depth,P=x.isOpen,fe=x.onToggle;return l.createElement(lt,{node:d,depth:m,isOpen:P,switcherIcon:ce,isSelected:d.id===(T==null?void 0:T.id),onToggle:fe,onSelect:_,onRemove:k,onTextChange:oe,onCreate:L,dragOverAutoExpand:h,clickRowAutoExpand:w,titleRender:re,showActions:ue,showInput:d.id===de,fileIcon:B})},onDrop:ae,classes:{root:"file-explorer",draggingSource:"file-explorer__draggingSource",dropTarget:"file-explorer__dropTarget"}},ne))))},At=function(){return React.createElement("span",null,"1a2b")},bt={files2tree:qe,tree2files:_e,findNodeIdByPath:et,findPathByNodeId:tt,findChangedNode:Ae},Et=xt,Ot=s(335),It=s.n(Ot);function se(e,t,r){var n=e,o=t.split("/").filter(function(a){return a.trim()!==""});return o.forEach(function(a,c){if(o.length===1){n=e.filter(function(i){return i.parent===0&&i.text===a&&i.droppable===r});return}if(c!==o.length-1){var u=n.find(function(i){return i.text===a&&i.droppable});n=e.filter(function(i){return i.parent===(u==null?void 0:u.id)})}else n=n.filter(function(i){return i.text===a&&i.droppable===r})}),n[0]}function ve(e,t){if(!t)return null;for(var r="",n=t.toString();n!=="0";){var o=!1,a=It()(e),c;try{for(a.s();!(c=a.n()).done;){var u=c.value;if(u.id.toString()===n){var i;r="/"+u.text+r,n=(i=u.parent)===null||i===void 0?void 0:i.toString(),o=!0;break}}}catch(f){a.e(f)}finally{a.f()}if(!o)return null}return r===""?null:r}var C=s(11527),St=function(t){var r=t.style,n=t.readOnly,o=t.fileIcon,a=(0,Z.X3)(),c=a.sandpack,u=c.files,i=c.activeFile,f=c.openFile,h=c.deleteFile,g=c.addFile,w=(0,l.useRef)(null),A=l.useState(),b=G()(A,2),I=b[0],ue=b[1],re=(0,l.useMemo)(function(){return bt.files2tree(u)},[u]),ce=l.useState(re),B=G()(ce,2),W=B[0],z=B[1],ne=function(y,j){var R=j.action,K=j.oldTree,p=j.oldNode,T=j.newNode,V="",N="";if(p&&(V=ve(K,p.id),N=ve(y,p.id)),R==="remove")h(V);else if(R==="drop"){var U,de=se(K,N,!!(p!=null&&p.droppable));if(de)return;g(N,(p==null||(U=p.content)===null||U===void 0?void 0:U.code)||""),h(V),p!=null&&p.droppable||f(N)}else if(R==="create"){if(!T)return;var Y=ve(y,T.id),ae=se(K,Y,!!T.droppable);if(ae&&ae.parent===T.parent){var k;(k=w.current)===null||k===void 0||k.remove(T.id);return}g(Y,""),T.droppable||f(Y)}else if(R==="update"){var L,oe=se(K,N,!!(p!=null&&p.droppable));if(oe&&oe.parent===(p==null?void 0:p.parent))return;g(N,(p==null||(L=p.content)===null||L===void 0?void 0:L.code)||""),h(V),p!=null&&p.droppable||f(N)}z(y)};return(0,l.useEffect)(function(){var E=se(W,i,!1);ue(E==null?void 0:E.id)},[i]),(0,l.useEffect)(function(){var E=u[i].code,y=W.find(function(j){return j.id===I});y&&(y.content=D()(D()({},y.content),{},{code:E})),z($()(W))},[u[i].code]),(0,C.jsxs)("div",{className:"sandpack-file-explorer",style:r,children:[(0,C.jsxs)("div",{className:"sandpack-file-explorer__header",children:[(0,C.jsx)("span",{children:"Files"}),n?null:(0,C.jsxs)("span",{className:"sandpack-file-explorer__header__actions",children:[(0,C.jsx)("span",{onClick:function(){var y;return(y=w.current)===null||y===void 0?void 0:y.addFile()},children:(0,C.jsx)(Oe,{})}),(0,C.jsx)("span",{onClick:function(){var y;return(y=w.current)===null||y===void 0?void 0:y.addFolder()},children:(0,C.jsx)(Ie,{})})]})]}),(0,C.jsx)(Et,{fileExplorerRef:w,data:W,rootId:0,initialOpen:!0,fileIcon:o||function(E){return E==="file"?(0,C.jsx)(Z.aA,{}):E==="folder"?(0,C.jsx)(Z.f8,{}):E==="folderOpen"?(0,C.jsx)(Z.N9,{}):(0,C.jsx)(Z.aA,{})},selectedId:I,onSelect:function(y){if(!y.droppable){var j=ve(W,y.id);j&&f(j)}},onChange:ne,showActions:!n,canDrag:function(){return!n}})]})},jt=St}}]);
