"use strict";(self.webpackChunk_rainetian_sandpack_file_explorer=self.webpackChunk_rainetian_sandpack_file_explorer||[]).push([[433],{55937:function(L,f,e){e.r(f);var t=e(23058),j=e(16725),I=e(50959),u=e(11527),a=function(){return(0,u.jsx)("div",{children:(0,u.jsx)(t.oT,{template:"react",children:(0,u.jsxs)(t.sp,{children:[(0,u.jsx)(j.Z,{style:{width:250}}),(0,u.jsx)(t._V,{showTabs:!0,closableTabs:!0}),(0,u.jsx)(t.Gj,{})]})})})};f.default=a},6498:function(L,f,e){e.r(f);var t=e(23058),j=e(18145),I=e(16725),u=e(50959),a=e(11527),O=function(){var A=function(U){var W={js:"https://img.icons8.com/color/48/000000/javascript.png",css:"https://img.icons8.com/color/48/000000/css3.png",html:"https://img.icons8.com/color/48/000000/html-5.png",json:"https://img.icons8.com/color/48/000000/json.png"},M=W[U];return M?(0,a.jsx)("img",{src:M}):null};return(0,a.jsx)("div",{children:(0,a.jsx)(t.oT,{template:"react",theme:j.uj,children:(0,a.jsxs)(t.sp,{children:[(0,a.jsx)(I.Z,{fileIcon:A}),(0,a.jsx)(t._V,{showTabs:!0,closableTabs:!0}),(0,a.jsx)(t.Gj,{})]})})})};f.default=O},25282:function(L,f,e){e.r(f);var t=e(23058),j=e(18145),I=e(16725),u=e(50959),a=e(11527),O=function(){return(0,a.jsx)("div",{children:(0,a.jsx)(t.oT,{template:"react",theme:j.uj,children:(0,a.jsxs)(t.sp,{children:[(0,a.jsx)(I.Z,{readOnly:!0}),(0,a.jsx)(t._V,{showTabs:!0,closableTabs:!0}),(0,a.jsx)(t.Gj,{})]})})})};f.default=O},16725:function(L,f,e){e.d(f,{Z:function(){return $}});var t=e(15558),j=e.n(t),I=e(26068),u=e.n(I),a=e(48305),O=e.n(a),D=e(23058),A=e(38743),m=e(50959),U=e(335),W=e.n(U);function M(C,h,p){var i=C,x=h.split("/").filter(function(d){return d.trim()!==""});return x.forEach(function(d,v){if(x.length===1){i=C.filter(function(r){return r.parent===0&&r.text===d&&r.droppable===p});return}if(v!==x.length-1){var c=i.find(function(r){return r.text===d&&r.droppable});i=C.filter(function(r){return r.parent===(c==null?void 0:c.id)})}else i=i.filter(function(r){return r.text===d&&r.droppable===p})}),i[0]}function F(C,h){if(!h)return null;for(var p="",i=h.toString();i!=="0";){var x=!1,d=W()(C),v;try{for(d.s();!(v=d.n()).done;){var c=v.value;if(c.id.toString()===i){var r;p="/"+c.text+p,i=(r=c.parent)===null||r===void 0?void 0:r.toString(),x=!0;break}}}catch(T){d.e(T)}finally{d.f()}if(!x)return null}return p===""?null:p}var s=e(11527),Y=function(h){var p=h.style,i=h.readOnly,x=h.fileIcon,d=(0,D.X3)(),v=d.sandpack,c=v.files,r=v.activeFile,T=v.openFile,_=v.deleteFile,b=v.addFile,S=(0,m.useRef)(null),w=m.useState(),k=O()(w,2),H=k[0],q=k[1],ee=(0,m.useMemo)(function(){return A.Me.files2tree(c)},[c]),ne=m.useState(ee),X=O()(ne,2),g=X[0],z=X[1],re=function(l,E){var B=E.action,y=E.oldTree,n=E.oldNode,R=E.newNode,K="",P="";if(n&&(K=F(y,n.id),P=F(l,n.id)),B==="remove")_(K);else if(B==="drop"){var Z,ae=M(y,P,!!(n!=null&&n.droppable));if(ae)return;b(P,(n==null||(Z=n.content)===null||Z===void 0?void 0:Z.code)||""),_(K),n!=null&&n.droppable||T(P)}else if(B==="create"){if(!R)return;var N=F(l,R.id),J=M(y,N,!!R.droppable);if(J&&J.parent===R.parent){var G;(G=S.current)===null||G===void 0||G.remove(R.id);return}b(N,""),R.droppable||T(N)}else if(B==="update"){var V,Q=M(y,P,!!(n!=null&&n.droppable));if(Q&&Q.parent===(n==null?void 0:n.parent))return;b(P,(n==null||(V=n.content)===null||V===void 0?void 0:V.code)||""),_(K),n!=null&&n.droppable||T(P)}z(l)};return(0,m.useEffect)(function(){var o=M(g,r,!1);q(o==null?void 0:o.id)},[r]),(0,m.useEffect)(function(){var o=c[r].code,l=g.find(function(E){return E.id===H});l&&(l.content=u()(u()({},l.content),{},{code:o})),z(j()(g))},[c[r].code]),(0,s.jsxs)("div",{className:"sandpack-file-explorer",style:p,children:[(0,s.jsxs)("div",{className:"sandpack-file-explorer__header",children:[(0,s.jsx)("span",{children:"Files"}),i?null:(0,s.jsxs)("span",{className:"sandpack-file-explorer__header__actions",children:[(0,s.jsx)("span",{onClick:function(){var l;return(l=S.current)===null||l===void 0?void 0:l.addFile()},children:(0,s.jsx)(A.Sp,{})}),(0,s.jsx)("span",{onClick:function(){var l;return(l=S.current)===null||l===void 0?void 0:l.addFolder()},children:(0,s.jsx)(A.De,{})})]})]}),(0,s.jsx)(A.ZP,{fileExplorerRef:S,data:g,rootId:0,initialOpen:!0,fileIcon:x||function(o){return o==="file"?(0,s.jsx)(D.aA,{}):o==="folder"?(0,s.jsx)(D.f8,{}):o==="folderOpen"?(0,s.jsx)(D.N9,{}):(0,s.jsx)(D.aA,{})},selectedId:H,onSelect:function(l){if(!l.droppable){var E=F(g,l.id);E&&T(E)}},onChange:re,showActions:!i,canDrag:function(){return!i}})]})},$=Y}}]);
